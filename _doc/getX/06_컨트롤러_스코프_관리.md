# GetX ì»¨íŠ¸ë¡¤ëŸ¬ ìŠ¤ì½”í”„ ê´€ë¦¬

## ì»¨íŠ¸ë¡¤ëŸ¬ ìŠ¤ì½”í”„ë€?

ì»¨íŠ¸ë¡¤ëŸ¬ ìŠ¤ì½”í”„ëŠ” GetX ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì–´ë””ì„œ ë“±ë¡ë˜ê³  ì–´ë””ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œì§€ë¥¼ ê²°ì •í•˜ëŠ” ë²”ìœ„ì…ë‹ˆë‹¤.

## GetX ì»¨íŠ¸ë¡¤ëŸ¬ ë“±ë¡ ë°©ë²•

### 1. Get.put() - ì»¨íŠ¸ë¡¤ëŸ¬ ë“±ë¡ ë° ë°˜í™˜

```dart
// ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë“±ë¡í•˜ê³  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜
final controller = Get.put(CounterController());
```

**íŠ¹ì§•:**

- ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìƒì„±í•˜ê³  ë“±ë¡í•œ í›„, í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜
- í•­ìƒ ì„±ê³µ (ìƒˆë¡œ ìƒì„±í•˜ë¯€ë¡œ)
- ë“±ë¡ëœ ê³³ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥ (ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ì ¯ ìŠ¤ì½”í”„)

### 2. Get.find() - ë“±ë¡ëœ ì»¨íŠ¸ë¡¤ëŸ¬ ì°¾ê¸°

```dart
// ì´ë¯¸ ë“±ë¡ëœ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜
final controller = Get.find<CounterController>();
```

**íŠ¹ì§•:**

- ë“±ë¡ëœ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜
- ë“±ë¡ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì—ëŸ¬ ë°œìƒ
- ë“±ë¡ëœ ê³³ ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥

## ìŠ¤ì½”í”„ë³„ ë“±ë¡ ìœ„ì¹˜ì™€ ì ‘ê·¼ ë²”ìœ„

### ğŸ“ main.dartì—ì„œ ì „ì—­ ë“±ë¡

```dart
// main.dart
void main() {
  // ì „ì—­ ë“±ë¡ - ì•± ì „ì²´ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
  Get.put(UserController(), permanent: true);
  Get.put(SettingsController(), permanent: true);
  Get.put(CartController(), permanent: true);

  runApp(MyApp());
}
```

**ê²°ê³¼:** ëª¨ë“  í˜ì´ì§€, ëª¨ë“  ìœ„ì ¯ì—ì„œ `Get.find<UserController>()`ë¡œ ì ‘ê·¼ ê°€ëŠ¥

#### ì˜ˆì œ: ì „ì—­ ìƒíƒœ ê´€ë¦¬

```dart
// lib/controllers/user_controller.dart
class UserController extends GetxController {
  final name = 'í™ê¸¸ë™'.obs;
  final age = 25.obs;
  final isLoggedIn = false.obs;

  void updateProfile(String newName, int newAge) {
    name.value = newName;
    age.value = newAge;
  }

  void login() {
    isLoggedIn.value = true;
  }

  void logout() {
    isLoggedIn.value = false;
  }
}

// main.dart
void main() {
  Get.put(UserController(), permanent: true);
  runApp(MyApp());
}

// ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final userController = Get.find<UserController>(); // âœ… ì ‘ê·¼ ê°€ëŠ¥
    return Text('${userController.name.value}');
  }
}

class SettingsPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final userController = Get.find<UserController>(); // âœ… ì ‘ê·¼ ê°€ëŠ¥
    return Text('${userController.age.value}');
  }
}

class AnyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final userController = Get.find<UserController>(); // âœ… ì ‘ê·¼ ê°€ëŠ¥
    return Text('${userController.isLoggedIn.value}');
  }
}
```

### ğŸ“ íŠ¹ì • í˜ì´ì§€ì—ì„œ ë“±ë¡

```dart
class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // HomePage ìŠ¤ì½”í”„ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
    final controller = Get.put(HomeController());

    return Scaffold(
      body: Column(
        children: [
          ProfileWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
          ContentsWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
        ],
      ),
    );
  }
}
```

**ê²°ê³¼:** HomePageì™€ ê·¸ í•˜ìœ„ ìœ„ì ¯ë“¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

#### ì˜ˆì œ: í˜ì´ì§€ë³„ ìƒíƒœ ê´€ë¦¬

```dart
// lib/controllers/home_controller.dart
class HomeController extends GetxController {
  final featuredItems = <String>[].obs;
  final currentTab = 0.obs;

  @override
  void onInit() {
    super.onInit();
    loadFeaturedItems();
  }

  void loadFeaturedItems() {
    featuredItems.value = ['ì•„ì´í…œ 1', 'ì•„ì´í…œ 2', 'ì•„ì´í…œ 3'];
  }

  void changeTab(int index) {
    currentTab.value = index;
  }
}

// HomePage
class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final homeController = Get.put(HomeController()); // HomePage ìŠ¤ì½”í”„

    return Scaffold(
      body: Column(
        children: [
          ProfileWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
          ContentsWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
        ],
      ),
    );
  }
}

// ProfileWidget
class ProfileWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final homeController = Get.find<HomeController>(); // âœ… ì ‘ê·¼ ê°€ëŠ¥
    return Obx(() => Text('${homeController.featuredItems.value}'));
  }
}

// SettingsPage (ë‹¤ë¥¸ í˜ì´ì§€)
class SettingsPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // âŒ ì—ëŸ¬: HomeControllerì— ì ‘ê·¼ ë¶ˆê°€
    // final homeController = Get.find<HomeController>();
    return Text('ë‹¤ë¥¸ í˜ì´ì§€');
  }
}
```

### ğŸ“ íŠ¹ì • ìœ„ì ¯ì—ì„œ ë“±ë¡

```dart
class ProfileWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // ProfileWidget ìŠ¤ì½”í”„ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
    final controller = Get.put(ProfileController());

    return Container(
      child: Column(
        children: [
          Text('${controller.name.value}'),
          ProfileImageWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
        ],
      ),
    );
  }
}
```

**ê²°ê³¼:** ProfileWidget ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥

#### ì˜ˆì œ: ìœ„ì ¯ë³„ ë…ë¦½ ìƒíƒœ

```dart
// lib/controllers/profile_controller.dart
class ProfileController extends GetxController {
  final name = 'í™ê¸¸ë™'.obs;
  final imageUrl = 'https://example.com/avatar.jpg'.obs;
  final isEditing = false.obs;

  void toggleEdit() {
    isEditing.value = !isEditing.value;
  }

  void updateName(String newName) {
    name.value = newName;
  }
}

// ProfileWidget
class ProfileWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final profileController = Get.put(ProfileController()); // ProfileWidget ìŠ¤ì½”í”„

    return Container(
      child: Column(
        children: [
          Text('${profileController.name.value}'),
          ProfileImageWidget(), // âœ… ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìœ 
        ],
      ),
    );
  }
}

// ProfileImageWidget
class ProfileImageWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final profileController = Get.find<ProfileController>(); // âœ… ì ‘ê·¼ ê°€ëŠ¥
    return Image.network(profileController.imageUrl.value);
  }
}

// ContentsWidget (ë‹¤ë¥¸ ìœ„ì ¯)
class ContentsWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // âŒ ì—ëŸ¬: ProfileControllerì— ì ‘ê·¼ ë¶ˆê°€
    // final profileController = Get.find<ProfileController>();
    return Text('ë‹¤ë¥¸ ìœ„ì ¯');
  }
}
```

## permanent íŒŒë¼ë¯¸í„°ì˜ ì˜í–¥

### permanent: false (ê¸°ë³¸ê°’)

```dart
// ìœ„ì ¯ dispose ì‹œ ìë™ ì‚­ì œ
final controller = Get.put(CounterController()); // permanent: falseì™€ ë™ì¼
```

**íŠ¹ì§•:**

- ìœ„ì ¯ì´ disposeë˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ë„ í•¨ê»˜ ì‚­ì œ
- ë©”ëª¨ë¦¬ ìë™ ê´€ë¦¬
- setStateì™€ ë¹„ìŠ·í•œ ë¡œì»¬ ìƒíƒœ ê´€ë¦¬

### permanent: true

```dart
// ì•± ì¢…ë£Œê¹Œì§€ ìœ ì§€
final controller = Get.put(CounterController(), permanent: true);
```

**íŠ¹ì§•:**

- ìœ„ì ¯ì´ disposeë˜ì–´ë„ ì»¨íŠ¸ë¡¤ëŸ¬ ìœ ì§€
- ì•± ì‹¤í–‰ ì¤‘ ì „ì—­ ìƒíƒœ ê³µìœ 
- ìˆ˜ë™ ë©”ëª¨ë¦¬ ê´€ë¦¬ í•„ìš”

#### ì˜ˆì œ: permanent ì°¨ì´ì  í™•ì¸

```dart
// lib/controllers/test_controller.dart
class TestController extends GetxController {
  final count = 0.obs;
  final timestamp = DateTime.now().obs;

  void increment() {
    count.value++;
    timestamp.value = DateTime.now();
    print('ì¹´ìš´íŠ¸ ì¦ê°€: ${count.value} (${timestamp.value})');
  }

  @override
  void onInit() {
    super.onInit();
    print('ğŸŸ¢ TestController ì´ˆê¸°í™”: ${DateTime.now()}');
  }

  @override
  void onClose() {
    super.onClose();
    print('ğŸ”´ TestController ì¢…ë£Œ: ${DateTime.now()}');
  }
}

// permanent: false í…ŒìŠ¤íŠ¸
class TestPage1 extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(TestController()); // permanent: false

    return Scaffold(
      appBar: AppBar(title: Text('Test Page 1 (permanent: false)')),
      body: Column(
        children: [
          Obx(() => Text('ì¹´ìš´íŠ¸: ${controller.count.value}')),
          Obx(() => Text('íƒ€ì„ìŠ¤íƒ¬í”„: ${controller.timestamp.value}')),
          ElevatedButton(
            onPressed: controller.increment,
            child: Text('ì¦ê°€'),
          ),
          ElevatedButton(
            onPressed: () => Get.to(() => TestPage2()),
            child: Text('ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™'),
          ),
        ],
      ),
    );
  }
}

// permanent: true í…ŒìŠ¤íŠ¸
class TestPage2 extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(TestController(), permanent: true);

    return Scaffold(
      appBar: AppBar(title: Text('Test Page 2 (permanent: true)')),
      body: Column(
        children: [
          Obx(() => Text('ì¹´ìš´íŠ¸: ${controller.count.value}')),
          Obx(() => Text('íƒ€ì„ìŠ¤íƒ¬í”„: ${controller.timestamp.value}')),
          ElevatedButton(
            onPressed: controller.increment,
            child: Text('ì¦ê°€'),
          ),
          ElevatedButton(
            onPressed: () => Get.back(),
            child: Text('ë’¤ë¡œ ê°€ê¸°'),
          ),
        ],
      ),
    );
  }
}
```

## ì•ˆì „í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ì ‘ê·¼ ë°©ë²•

### 1. ë“±ë¡ ì—¬ë¶€ í™•ì¸ í›„ ì ‘ê·¼

```dart
class SafeWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    if (Get.isRegistered<SomeController>()) {
      final controller = Get.find<SomeController>();
      return Text('${controller.data.value}');
    }
    return Text('ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
  }
}
```

### 2. ìë™ ë“±ë¡ (ê¶Œì¥)

```dart
class SafeWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // ë“±ë¡ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ìë™ìœ¼ë¡œ ë“±ë¡
    final controller = Get.put(SomeController());
    return Text('${controller.data.value}');
  }
}
```

### 3. try-catch ì‚¬ìš©

```dart
class SafeWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    try {
      final controller = Get.find<SomeController>();
      return Text('${controller.data.value}');
    } catch (e) {
      return Text('ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
    }
  }
}
```

## ê¶Œì¥ ì‚¬ìš© íŒ¨í„´

### ì „ì—­ ìƒíƒœ (main.dartì—ì„œ ë“±ë¡)

```dart
// ì‚¬ìš©ì ì •ë³´, ì„¤ì •, ì¥ë°”êµ¬ë‹ˆ ë“±
void main() {
  Get.put(UserController(), permanent: true);
  Get.put(SettingsController(), permanent: true);
  Get.put(CartController(), permanent: true);
  runApp(MyApp());
}

// ì–´ë””ì„œë“  ì ‘ê·¼
class AnyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final userController = Get.find<UserController>();
    return Text('${userController.name.value}');
  }
}
```

### í˜ì´ì§€ë³„ ìƒíƒœ (í˜ì´ì§€ì—ì„œ ë“±ë¡)

```dart
// í˜ì´ì§€ë³„ ë…ë¦½ì ì¸ ìƒíƒœ
class HomePage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(HomeController());
    return Scaffold(body: ...);
  }
}
```

### ìœ„ì ¯ë³„ ìƒíƒœ (ìœ„ì ¯ì—ì„œ ë“±ë¡)

```dart
// ìœ„ì ¯ë³„ ë…ë¦½ì ì¸ ìƒíƒœ
class ProfileWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(ProfileController());
    return Container(child: ...);
  }
}
```

## ìŠ¤ì½”í”„ ë¹„êµí‘œ

| ë“±ë¡ ìœ„ì¹˜       | ì ‘ê·¼ ë²”ìœ„               | ì‚¬ìš© ì˜ˆì‹œ                   | ë©”ëª¨ë¦¬ ê´€ë¦¬            |
| --------------- | ----------------------- | --------------------------- | ---------------------- |
| **main.dart**   | ì•± ì „ì²´                 | ì‚¬ìš©ì ì •ë³´, ì„¤ì •, ì¥ë°”êµ¬ë‹ˆ | ìˆ˜ë™ (permanent: true) |
| **íŠ¹ì • í˜ì´ì§€** | í•´ë‹¹ í˜ì´ì§€ + í•˜ìœ„ ìœ„ì ¯ | í˜ì´ì§€ë³„ ìƒíƒœ               | ìë™                   |
| **íŠ¹ì • ìœ„ì ¯**   | í•´ë‹¹ ìœ„ì ¯ë§Œ             | ìœ„ì ¯ë³„ ë…ë¦½ ìƒíƒœ            | ìë™                   |

## ì£¼ì˜ì‚¬í•­

### 1. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

```dart
// âŒ ìœ„í—˜: í° ë°ì´í„°ë¥¼ permanentë¡œ ìœ ì§€
class HeavyController extends GetxController {
  final largeData = List.generate(1000000, (i) => i).obs;
}

// âœ… ê¶Œì¥: ì ì ˆí•œ ì •ë¦¬
class HeavyController extends GetxController {
  @override
  void onClose() {
    largeData.clear(); // í° ë°ì´í„° ì •ë¦¬
    super.onClose();
  }
}
```

### 2. ìŠ¤ì½”í”„ ë²—ì–´ë‚˜ì„œ ì ‘ê·¼

```dart
// âŒ ì—ëŸ¬ ë°œìƒ
class SomeWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.find<SomeController>(); // ì—ëŸ¬!
    return Text('${controller.data.value}');
  }
}

// âœ… ì•ˆì „í•œ ì ‘ê·¼
class SomeWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(SomeController()); // ìë™ ë“±ë¡
    return Text('${controller.data.value}');
  }
}
```

## ë‹¤ìŒ ë‹¨ê³„

- [07*ê³ ê¸‰*ì»¨íŠ¸ë¡¤ëŸ¬\_ê´€ë¦¬.md](07_ê³ ê¸‰_ì»¨íŠ¸ë¡¤ëŸ¬_ê´€ë¦¬.md) - ê³ ê¸‰ ì»¨íŠ¸ë¡¤ëŸ¬ ê´€ë¦¬ ê¸°ë²•
- [08*ì„±ëŠ¥*ìµœì í™”.md](08_ì„±ëŠ¥_ìµœì í™”.md) - GetX ì„±ëŠ¥ ìµœì í™”
- [09*ì‹¤ì „*íŒ¨í„´.md](09_ì‹¤ì „_íŒ¨í„´.md) - ì‹¤ì „ì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ë“¤
