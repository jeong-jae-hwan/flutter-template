# GetX ì„±ëŠ¥ ìµœì í™”

## ì„±ëŠ¥ ìµœì í™” ê°œìš”

GetXëŠ” ì´ë¯¸ ë†’ì€ ì„±ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ë” ë‚˜ì€ ì„±ëŠ¥ì„ ìœ„í•´ ìµœì í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë“¤ì´ ìˆìŠµë‹ˆë‹¤.

## 1. ë¶ˆí•„ìš”í•œ ë¦¬ë¹Œë“œ ë°©ì§€

### âœ… ì¢‹ì€ ì˜ˆ: íŠ¹ì • ë³€ìˆ˜ë§Œ ê´€ì°°

```dart
class OptimizedController extends GetxController {
  final name = 'í™ê¸¸ë™'.obs;
  final age = 25.obs;
  final email = 'hong@example.com'.obs;
  final address = 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬'.obs;
}

class OptimizedWidget extends StatelessWidget {
  final controller = Get.put(OptimizedController());

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        // ì´ë¦„ë§Œ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë¹Œë“œ
        Obx(() => Text('ì´ë¦„: ${controller.name.value}')),

        // ë‚˜ì´ë§Œ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë¹Œë“œ
        Obx(() => Text('ë‚˜ì´: ${controller.age.value}')),

        // ì´ë©”ì¼ë§Œ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë¹Œë“œ
        Obx(() => Text('ì´ë©”ì¼: ${controller.email.value}')),

        // ì£¼ì†Œë§Œ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë¹Œë“œ
        Obx(() => Text('ì£¼ì†Œ: ${controller.address.value}')),
      ],
    );
  }
}
```

### âŒ ë‚˜ìœ ì˜ˆ: ì „ì²´ ìœ„ì ¯ ë¦¬ë¹Œë“œ

```dart
class UnoptimizedWidget extends StatelessWidget {
  final controller = Get.put(OptimizedController());

  @override
  Widget build(BuildContext context) {
    return Obx(() => Column(
      children: [
        Text('ì´ë¦„: ${controller.name.value}'),
        Text('ë‚˜ì´: ${controller.age.value}'),
        Text('ì´ë©”ì¼: ${controller.email.value}'),
        Text('ì£¼ì†Œ: ${controller.address.value}'),
        // ë‹¤ë¥¸ ë§ì€ ìœ„ì ¯ë“¤...
      ],
    ));
  }
}
```

## 2. ë©”ëª¨ë¦¬ ê´€ë¦¬ ìµœì í™”

### ì»¨íŠ¸ë¡¤ëŸ¬ ìë™ ì‚­ì œ

```dart
// ìœ„ì ¯ì´ disposeë  ë•Œ ìë™ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë„ ì‚­ì œ
class AutoCleanupWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final controller = Get.put(TempController()); // ìë™ ì‚­ì œ
    return Container();
  }
}
```

### ìˆ˜ë™ ë©”ëª¨ë¦¬ ì •ë¦¬

```dart
class MemoryEfficientController extends GetxController {
  final _largeData = <String>[].obs;
  final _cache = <String, dynamic>{};

  @override
  void onClose() {
    // í° ë°ì´í„° ì •ë¦¬
    _largeData.clear();
    _cache.clear();

    // ë¦¬ìŠ¤ë„ˆ í•´ì œ
    // íƒ€ì´ë¨¸ ì •ë¦¬
    // ìŠ¤íŠ¸ë¦¼ êµ¬ë… í•´ì œ

    super.onClose();
  }
}
```

### ì§€ì—° ë¡œë”© ì‚¬ìš©

```dart
// í•„ìš”í•  ë•Œë§Œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±
class LazyLoadingWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // ì‹¤ì œ ì‚¬ìš©í•  ë•Œê¹Œì§€ ìƒì„±í•˜ì§€ ì•ŠìŒ
    Get.lazyPut(() => HeavyController());

    return ElevatedButton(
      onPressed: () {
        // ë²„íŠ¼ í´ë¦­ ì‹œì—ë§Œ ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±
        final controller = Get.find<HeavyController>();
        controller.loadData();
      },
      child: Text('ë°ì´í„° ë¡œë“œ'),
    );
  }
}
```

## 3. ìƒíƒœ ë¶„ë¦¬ ìµœì í™”

### UI ìƒíƒœì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬

```dart
// UI ìƒíƒœë§Œ ê´€ë¦¬
class UIStateController extends GetxController {
  final isLoading = false.obs;
  final errorMessage = ''.obs;
  final currentTab = 0.obs;
  final isExpanded = false.obs;
}

// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ê´€ë¦¬
class BusinessController extends GetxController {
  final data = <String>[].obs;
  final filteredData = <String>[].obs;

  void loadData() async {
    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
  }

  void filterData(String query) {
    // í•„í„°ë§ ë¡œì§
  }
}

// ì‚¬ìš©
class OptimizedPage extends StatelessWidget {
  final uiController = Get.put(UIStateController());
  final businessController = Get.put(BusinessController());

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          // UI ìƒíƒœë§Œ ê´€ì°°
          Obx(() => uiController.isLoading.value
            ? CircularProgressIndicator()
            : Container()
          ),

          // ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°ë§Œ ê´€ì°°
          Obx(() => ListView.builder(
            itemCount: businessController.filteredData.length,
            itemBuilder: (context, index) {
              return ListTile(
                title: Text(businessController.filteredData[index]),
              );
            },
          )),
        ],
      ),
    );
  }
}
```

## 4. ë¦¬ìŠ¤íŠ¸ ìµœì í™”

### ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ ìµœì í™”

```dart
class OptimizedListController extends GetxController {
  final items = <ListItem>[].obs;

  void addItem(String title) {
    items.add(ListItem(
      id: DateTime.now().millisecondsSinceEpoch,
      title: title,
    ));
  }

  void removeItem(int id) {
    items.removeWhere((item) => item.id == id);
  }
}

class ListItem {
  final int id;
  final String title;

  ListItem({required this.id, required this.title});
}

class OptimizedListView extends StatelessWidget {
  final controller = Get.put(OptimizedListController());

  @override
  Widget build(BuildContext context) {
    return Obx(() => ListView.builder(
      itemCount: controller.items.length,
      itemBuilder: (context, index) {
        final item = controller.items[index];
        return ListTile(
          key: ValueKey(item.id), // ê³ ìœ  í‚¤ ì‚¬ìš©
          title: Text(item.title),
          trailing: IconButton(
            icon: Icon(Icons.delete),
            onPressed: () => controller.removeItem(item.id),
          ),
        );
      },
    ));
  }
}
```

## 5. ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìµœì í™”

### ìºì‹± êµ¬í˜„

```dart
class CachedApiController extends GetxController {
  final _cache = <String, dynamic>{};
  final data = <String>[].obs;
  final isLoading = false.obs;

  Future<void> fetchData() async {
    const cacheKey = 'api_data';

    // ìºì‹œ í™•ì¸
    if (_cache.containsKey(cacheKey)) {
      data.value = _cache[cacheKey];
      return;
    }

    isLoading.value = true;

    try {
      // API í˜¸ì¶œ
      final response = await apiService.getData();
      data.value = response;

      // ìºì‹œ ì €ì¥
      _cache[cacheKey] = response;
    } finally {
      isLoading.value = false;
    }
  }

  void clearCache() {
    _cache.clear();
  }
}
```

### ë””ë°”ìš´ì‹± êµ¬í˜„

```dart
class DebouncedSearchController extends GetxController {
  final searchQuery = ''.obs;
  final searchResults = <String>[].obs;
  Timer? _debounceTimer;

  void onSearchChanged(String query) {
    searchQuery.value = query;

    // ì´ì „ íƒ€ì´ë¨¸ ì·¨ì†Œ
    _debounceTimer?.cancel();

    // ìƒˆë¡œìš´ íƒ€ì´ë¨¸ ì‹œì‘
    _debounceTimer = Timer(Duration(milliseconds: 500), () {
      performSearch(query);
    });
  }

  Future<void> performSearch(String query) async {
    if (query.isEmpty) {
      searchResults.clear();
      return;
    }

    // ê²€ìƒ‰ ë¡œì§
    final results = await searchService.search(query);
    searchResults.value = results;
  }

  @override
  void onClose() {
    _debounceTimer?.cancel();
    super.onClose();
  }
}
```

## 6. ì´ë¯¸ì§€ ìµœì í™”

### ì´ë¯¸ì§€ ìºì‹±

```dart
class ImageController extends GetxController {
  final _imageCache = <String, Uint8List>{};
  final images = <String>[].obs;

  Future<Uint8List?> getImage(String url) async {
    // ìºì‹œ í™•ì¸
    if (_imageCache.containsKey(url)) {
      return _imageCache[url];
    }

    try {
      // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
      final response = await http.get(Uri.parse(url));
      final imageBytes = response.bodyBytes;

      // ìºì‹œ ì €ì¥
      _imageCache[url] = imageBytes;

      return imageBytes;
    } catch (e) {
      return null;
    }
  }

  void clearImageCache() {
    _imageCache.clear();
  }
}
```

## 7. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### ì„±ëŠ¥ ì¸¡ì •

```dart
class PerformanceController extends GetxController {
  final executionTimes = <String, int>{};

  void measureExecution(String operation, Function() callback) {
    final stopwatch = Stopwatch()..start();

    callback();

    stopwatch.stop();
    executionTimes[operation] = stopwatch.elapsedMilliseconds;

    print('$operation ì‹¤í–‰ ì‹œê°„: ${stopwatch.elapsedMilliseconds}ms');
  }

  void logPerformance() {
    executionTimes.forEach((operation, time) {
      print('$operation: ${time}ms');
    });
  }
}
```

## 8. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

### ë¦¬ìŠ¤ë„ˆ ì •ë¦¬

```dart
class SafeController extends GetxController {
  StreamSubscription? _subscription;
  Timer? _timer;

  @override
  void onInit() {
    super.onInit();

    // ìŠ¤íŠ¸ë¦¼ êµ¬ë…
    _subscription = someStream.listen((data) {
      // ë°ì´í„° ì²˜ë¦¬
    });

    // íƒ€ì´ë¨¸ ì„¤ì •
    _timer = Timer.periodic(Duration(seconds: 1), (timer) {
      // ì£¼ê¸°ì  ì‘ì—…
    });
  }

  @override
  void onClose() {
    // êµ¬ë… í•´ì œ
    _subscription?.cancel();

    // íƒ€ì´ë¨¸ ì •ë¦¬
    _timer?.cancel();

    super.onClose();
  }
}
```

## ì„±ëŠ¥ ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ìµœì í™” ì™„ë£Œ í•­ëª©

- [ ] ë¶ˆí•„ìš”í•œ Obx() ì‚¬ìš© ë°©ì§€
- [ ] ë¦¬ìŠ¤íŠ¸ì— ê³ ìœ  í‚¤ ì‚¬ìš©
- [ ] í° ë°ì´í„°ëŠ” ì§€ì—° ë¡œë”© ì‚¬ìš©
- [ ] ì´ë¯¸ì§€ ìºì‹± êµ¬í˜„
- [ ] ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë””ë°”ìš´ì‹±
- [ ] ì»¨íŠ¸ë¡¤ëŸ¬ ìƒëª…ì£¼ê¸° ê´€ë¦¬
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
- [ ] ìƒíƒœ ë¶„ë¦¬ êµ¬í˜„

### ğŸ“Š ì„±ëŠ¥ ì¸¡ì •

```dart
// ì„±ëŠ¥ ì¸¡ì • ìœ í‹¸ë¦¬í‹°
class PerformanceUtils {
  static void measure(String operation, Function() callback) {
    final stopwatch = Stopwatch()..start();
    callback();
    stopwatch.stop();
    print('$operation: ${stopwatch.elapsedMilliseconds}ms');
  }

  static void measureAsync(String operation, Future<void> Function() callback) async {
    final stopwatch = Stopwatch()..start();
    await callback();
    stopwatch.stop();
    print('$operation: ${stopwatch.elapsedMilliseconds}ms');
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
PerformanceUtils.measure('ë¦¬ìŠ¤íŠ¸ ë Œë”ë§', () {
  // ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ë¡œì§
});

PerformanceUtils.measureAsync('API í˜¸ì¶œ', () async {
  await apiService.getData();
});
```

## ë‹¤ìŒ ë‹¨ê³„

- [09*ì‹¤ì „*íŒ¨í„´.md](09_ì‹¤ì „_íŒ¨í„´.md) - ì‹¤ì „ì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ë“¤
- [10*ë””ë²„ê¹…*ê°€ì´ë“œ.md](10_ë””ë²„ê¹…_ê°€ì´ë“œ.md) - GetX ë””ë²„ê¹… ë°©ë²•
- [11*ê³ ê¸‰*ê¸°ëŠ¥.md](11_ê³ ê¸‰_ê¸°ëŠ¥.md) - GetX ê³ ê¸‰ ê¸°ëŠ¥ë“¤
